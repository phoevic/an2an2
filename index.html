<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì˜¤ëŠ˜ ë­ ë¨¹ì§€? ğŸš + ìŒì‹ ê°¤ëŸ¬ê·¸</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: #fff7e6;
    }
    h1 {
        margin-top: 20px;
    }
    button {
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        margin-bottom: 20px;
    }
    #menuResult {
        font-size: 20px;
        margin: 15px;
        font-weight: bold;
    }
    canvas {
        background: #000;
        display: block;
        margin: 0 auto;
        border: 3px solid #333;
    }
</style>
</head>
<body>

<h1>ğŸš ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</h1>
<button onclick="recommendMenu()">ë°¥ ë©”ë‰´ ì¶”ì²œ!</button>
<div id="menuResult">ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš” ğŸ´</div>

<h1>ğŸ® ìŒì‹ ê°¤ëŸ¬ê·¸</h1>
<canvas id="gameCanvas" width="400" height="500"></canvas>
<p>â† â†’ ì´ë™ | Space ë°œì‚¬</p>

<script>
/* ===== ë°¥ ë©”ë‰´ ì¶”ì²œ ===== */
const menus = [
    "ê¹€ì¹˜ì°Œê°œ",
    "ëˆê¹ŒìŠ¤",
    "ë¹„ë¹”ë°¥",
    "ë¼ë©´",
    "ì¹˜í‚¨",
    "í–„ë²„ê±°",
    "ì´ˆë°¥",
    "ë–¡ë³¶ì´"
];

function recommendMenu() {
    const randomMenu = menus[Math.floor(Math.random() * menus.length)];
    document.getElementById("menuResult").innerText =
        "ğŸ‘‰ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë©”ë‰´: " + randomMenu;
}

/* ===== ê°¤ëŸ¬ê·¸ ê²Œì„ ===== */
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let player = { x: 180, y: 450, width: 40, height: 20 };
let bullets = [];
let enemies = [];
let score = 0;

const foodEmojis = ["ğŸ•", "ğŸ”", "ğŸœ", "ğŸ£", "ğŸ©"];

document.addEventListener("keydown", movePlayer);
document.addEventListener("keyup", stopPlayer);

let rightPressed = false;
let leftPressed = false;

function movePlayer(e) {
    if (e.key === "ArrowRight") rightPressed = true;
    if (e.key === "ArrowLeft") leftPressed = true;
    if (e.key === " ") {
        bullets.push({ x: player.x + 18, y: player.y });
    }
}

function stopPlayer(e) {
    if (e.key === "ArrowRight") rightPressed = false;
    if (e.key === "ArrowLeft") leftPressed = false;
}

function createEnemy() {
    enemies.push({
        x: Math.random() * 360,
        y: 0,
        emoji: foodEmojis[Math.floor(Math.random() * foodEmojis.length)]
    });
}

function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // í”Œë ˆì´ì–´ ì´ë™
    if (rightPressed && player.x < canvas.width - player.width) player.x += 5;
    if (leftPressed && player.x > 0) player.x -= 5;

    // í”Œë ˆì´ì–´ ê·¸ë¦¬ê¸°
    ctx.fillStyle = "white";
    ctx.fillRect(player.x, player.y, player.width, player.height);

    // ì´ì•Œ
    bullets.forEach((b, i) => {
        b.y -= 7;
        ctx.fillStyle = "yellow";
        ctx.fillRect(b.x, b.y, 4, 10);
        if (b.y < 0) bullets.splice(i, 1);
    });

    // ì 
    enemies.forEach((e, ei) => {
        e.y += 2;
        ctx.font = "24px serif";
        ctx.fillText(e.emoji, e.x, e.y);

        // ì¶©ëŒ ê²€ì‚¬
        bullets.forEach((b, bi) => {
            if (
                b.x > e.x &&
                b.x < e.x + 24 &&
                b.y > e.y - 24 &&
                b.y < e.y
            ) {
                enemies.splice(ei, 1);
                bullets.splice(bi, 1);
                score += 10;
            }
        });

        if (e.y > canvas.height) enemies.splice(ei, 1);
    });

    // ì ìˆ˜
    ctx.fillStyle = "white";
    ctx.font = "16px Arial";
    ctx.fillText("Score: " + score, 10, 20);

    requestAnimationFrame(update);
}

// ì  ìƒì„± ì£¼ê¸°
setInterval(createEnemy, 1000);
update();
</script>

</body>
</html>
